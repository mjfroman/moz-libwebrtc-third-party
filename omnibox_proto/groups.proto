// Copyright 2022 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

syntax = 'proto2';

option optimize_for = LITE_RUNTIME;
option java_package = 'org.chromium.components.omnibox';
option java_outer_classname = 'GroupsProto';

package omnibox;

// Suggestion group configurations supported by Chrome Omnibox. Contains
// information about how to display the suggestion groups.
message GroupConfig {
  // The optional header text the group must appear under.
  optional string header_text = 1;

  enum SideType {
    DEFAULT_PRIMARY = 0;
    SECONDARY = 1;
  }

  // Indicates the primary or secondary column of suggestions.
  optional SideType side_type = 2;

  enum RenderType {
    DEFAULT_VERTICAL = 0;
    HORIZONTAL = 1;
    GRID = 2;
  }

  // Indicates how the group will be rendered.
  optional RenderType render_type = 3;

  enum Visibility {
    DEFAULT_VISIBLE = 0;
    HIDDEN = 1;
  }

  // Indicates whether the group is initially hidden (collapsed).
  optional Visibility visibility = 4;

  // Indicates the reason why this suggestion shows up.
  optional uint32 why_this_result_reason = 5;
}

// Contains information about the suggestion groups supported by Chrome Omnibox.
// Specifically the mapping from suggestion group IDs (GroupId) to suggestion
// group configurations (GroupConfig).
message GroupsInfo {
  map<uint32, GroupConfig> group_configs_map = 1;
}

// Suggestion group IDs supported by Chrome Omnibox. These entries must not
// be removed or renumbered.
enum GroupId {
  GROUP_INVALID = -1;
  // Reserved for Polaris zero-prefix suggestions.
  // Produced by ZeroSuggestProvider.
  GROUP_PREVIOUS_SEARCH_RELATED = 10000;
  GROUP_PREVIOUS_SEARCH_RELATED_ENTITY_CHIPS = 10001;
  GROUP_TRENDS = 10002;
  GROUP_TRENDS_ENTITY_CHIPS = 10003;
  GROUP_RELATED_QUERIES = 10004;
  GROUP_VISITED_DOC_RELATED = 10005;
  GROUP_POLARIS_RESERVED_7 = 10006;
  GROUP_POLARIS_RESERVED_8 = 10007;
  GROUP_POLARIS_RESERVED_9 = 10008;
  GROUP_POLARIS_RESERVED_10 = 10009;
  GROUP_POLARIS_RESERVED_MAX = 19999;
  // Reserved for personalized zero-prefix suggestions.
  // Produced by ZeroSuggestProvider and LocalHistoryZeroSuggestProvider.
  GROUP_PERSONALIZED_ZERO_SUGGEST = 40000;
  // Produced by HistoryClusterProvider.
  GROUP_HISTORY_CLUSTER = 50000;
}
