This is a testharness.js-based test.
PASS sharedworker-connect-src
PASS Same-origin 'fetch()' in http: without CSP
PASS Same-origin XHR in http: without CSP
PASS Cross-origin 'fetch()' in http: without CSP
PASS Cross-origin XHR in http: without CSP
PASS Same-origin => cross-origin 'fetch()' in http: without CSP
PASS Same-origin 'fetch()' in http: with connect-src 'self'
PASS Same-origin XHR in http: with connect-src 'self'
PASS Cross-origin 'fetch()' in http: with connect-src 'self'
PASS Cross-origin XHR in http: with connect-src 'self'
PASS Same-origin => cross-origin 'fetch()' in http: with connect-src 'self'
FAIL Reports match in http: with connect-src 'self' assert_array_equals: Reports do not match lengths differ, expected array ["http://web-platform.test:8001/common/redirect-opt-in.py?status=307&location=https://www.web-platform.test:8445/content-security-policy/support/resource.py?cross-origin-fetch", "https://www.web-platform.test:8445/content-security-policy/support/resource.py?cross-origin-fetch", "https://www.web-platform.test:8445/content-security-policy/support/resource.py?cross-origin-xhr"] length 3, got [] length 0
PASS Same-origin 'fetch()' in http: with default-src 'self'
PASS Same-origin XHR in http: with default-src 'self'
PASS Cross-origin 'fetch()' in http: with default-src 'self'
PASS Cross-origin XHR in http: with default-src 'self'
PASS Same-origin => cross-origin 'fetch()' in http: with default-src 'self'
FAIL Reports match in http: with default-src 'self' assert_array_equals: Reports do not match lengths differ, expected array ["http://web-platform.test:8001/common/redirect-opt-in.py?status=307&location=https://www.web-platform.test:8445/content-security-policy/support/resource.py?cross-origin-fetch", "https://www.web-platform.test:8445/content-security-policy/support/resource.py?cross-origin-fetch", "https://www.web-platform.test:8445/content-security-policy/support/resource.py?cross-origin-xhr"] length 3, got [] length 0
Harness: the test ran to completion.

