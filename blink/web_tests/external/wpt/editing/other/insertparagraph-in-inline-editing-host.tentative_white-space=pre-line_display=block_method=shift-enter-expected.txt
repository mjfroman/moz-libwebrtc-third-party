This is a testharness.js-based test.
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> (defaultParagraphSeparator=div) assert_in_array: A linefeed and additional line breaker should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> (defaultParagraphSeparator=div) value "<span contenteditable=\"\">\n&nbsp;</span>" not in array ["<span contenteditable=\"\">\n<br></span>", "<span contenteditable=\"\">\n\n</span>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by a <br> (defaultParagraphSeparator=div) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by a <br> (defaultParagraphSeparator=div) value "<span contenteditable=\"\">\n&nbsp;</span><br>" not in array ["<span contenteditable=\"\">\n\n</span><br>", "<span contenteditable=\"\">\n<br></span><br>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by text (defaultParagraphSeparator=div) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by text (defaultParagraphSeparator=div) value "<span contenteditable=\"\">\n&nbsp;</span>abc" not in array ["<span contenteditable=\"\">\n\n</span>abc", "<span contenteditable=\"\">\n<br></span>abc"]
PASS insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}<br></span> (defaultParagraphSeparator=div)
PASS insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">[]abcd</span> (defaultParagraphSeparator=div)
PASS insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">ab[]cd</span> (defaultParagraphSeparator=div)
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> (defaultParagraphSeparator=div) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> (defaultParagraphSeparator=div) value "<span contenteditable=\"\">abcd\n&nbsp;</span>" not in array ["<span contenteditable=\"\">abcd\n<br></span>", "<span contenteditable=\"\">abcd\n\n</span>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by a <br> element (defaultParagraphSeparator=div) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by a <br> element (defaultParagraphSeparator=div) value "<span contenteditable=\"\">abcd\n&nbsp;</span><br>" not in array ["<span contenteditable=\"\">abcd\n<br></span><br>", "<span contenteditable=\"\">abcd\n\n</span><br>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by text (defaultParagraphSeparator=div) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by text (defaultParagraphSeparator=div) value "<span contenteditable=\"\">abcd\n&nbsp;</span>efg" not in array ["<span contenteditable=\"\">abcd\n<br></span>efg", "<span contenteditable=\"\">abcd\n\n</span>efg"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> (defaultParagraphSeparator=p) assert_in_array: A linefeed and additional line breaker should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> (defaultParagraphSeparator=p) value "<span contenteditable=\"\">\n&nbsp;</span>" not in array ["<span contenteditable=\"\">\n<br></span>", "<span contenteditable=\"\">\n\n</span>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by a <br> (defaultParagraphSeparator=p) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by a <br> (defaultParagraphSeparator=p) value "<span contenteditable=\"\">\n&nbsp;</span><br>" not in array ["<span contenteditable=\"\">\n\n</span><br>", "<span contenteditable=\"\">\n<br></span><br>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by text (defaultParagraphSeparator=p) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}</span> followed by text (defaultParagraphSeparator=p) value "<span contenteditable=\"\">\n&nbsp;</span>abc" not in array ["<span contenteditable=\"\">\n\n</span>abc", "<span contenteditable=\"\">\n<br></span>abc"]
PASS insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">{}<br></span> (defaultParagraphSeparator=p)
PASS insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">[]abcd</span> (defaultParagraphSeparator=p)
PASS insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">ab[]cd</span> (defaultParagraphSeparator=p)
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> (defaultParagraphSeparator=p) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> (defaultParagraphSeparator=p) value "<span contenteditable=\"\">abcd\n&nbsp;</span>" not in array ["<span contenteditable=\"\">abcd\n<br></span>", "<span contenteditable=\"\">abcd\n\n</span>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by a <br> element (defaultParagraphSeparator=p) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by a <br> element (defaultParagraphSeparator=p) value "<span contenteditable=\"\">abcd\n&nbsp;</span><br>" not in array ["<span contenteditable=\"\">abcd\n<br></span><br>", "<span contenteditable=\"\">abcd\n\n</span><br>"]
FAIL insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by text (defaultParagraphSeparator=p) assert_in_array: A linefeed and additional line break should be inserted when insertLineBreak in <span contenteditable style="display:block;white-space:pre-line">abcd[]</span> followed by text (defaultParagraphSeparator=p) value "<span contenteditable=\"\">abcd\n&nbsp;</span>efg" not in array ["<span contenteditable=\"\">abcd\n<br></span>efg", "<span contenteditable=\"\">abcd\n\n</span>efg"]
Harness: the test ran to completion.

