<!doctype html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../assert_selection.js"></script>
<script>
// This tests for a bug where the color of pasted text couldn't be changed.
selection_test(
    [
        '<div contenteditable>',
            '<font color="rgb(0, 0, 255)">abc | def</font>',
        '</div>',
    ],
    selection => {
        selection.document.execCommand("ForeColor", false, 'green');
        selection.document.execCommand("InsertText", false, 'XYZ');
    },
    [
        '<div contenteditable>',
            '<font color="rgb(0, 0, 255)">abc </font>',
            '<font color="rgb(0, 128, 0)">XYZ|</font>',
            '<font color="rgb(0, 0, 255)">def</font>',
        '</div>',
    ]);
</script>
