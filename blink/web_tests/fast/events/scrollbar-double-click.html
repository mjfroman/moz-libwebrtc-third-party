<script src="../../resources/gesture-util.js"></script>
<body style="margin:0">
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}
</script>

<div id="overflow" style="border:2px solid black;overflow:auto;height:400px;width:400px; position:absolute;">
<div style="background-color:red;height:720px"></div>
<div style="background-color:green;height:1600px"></div>
</div>

<div id="console"></div>

<script>
if (window.eventSender) {
    waitForCompositorCommit().then(() => {
        eventSender.mouseMoveTo(390, 300);
        eventSender.mouseDown();
        eventSender.mouseUp();
        eventSender.mouseDown();
        eventSender.mouseUp();

        // TODO(crbug.com/1253956): Don't use setTimeout here.
        setTimeout(finished, 1000);
    });
}

function finished()
{
    document.getElementById('console').innerHTML = "Scroll offset is " + document.getElementById('overflow').scrollTop;
    testRunner.notifyDone();
}
</script>
