// Copyright 2020 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.


// See third_party/blink/renderer/core/document_transition/README.md.
[
    ActiveScriptWrappable,
    Exposed=Window,
    RuntimeEnabled=DocumentTransition
] interface DocumentTransition {
  // Set or unset (if tag is null) an element that will participate in the next
  // transition, whether as a part of captureAndHold or start phases.
  [CallWith=ScriptState, RaisesException] void setElement(Element element, DOMString? tag, optional DocumentTransitionSetElementOptions options = {});

  // Request to capture the currently set elements, including the root, and
  // hold visual contents until start is called
  [CallWith=ScriptState, RaisesException] Promise<void> captureAndHold();

  // Starts the transition with the captured elements and elements set for
  // start.
  [CallWith=ScriptState, RaisesException] Promise<void> start();

  // Ignores CSS tagged elements
  [CallWith=ScriptState, RaisesException] void ignoreCSSTaggedElements();

  // Abandons the transition.
  [CallWith=ScriptState, RaisesException] void abandon();
};
