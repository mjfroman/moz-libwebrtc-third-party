From d9c11b79d8963d74c240a44d905c4f0a0ee90e99 Mon Sep 17 00:00:00 2001
From: Andrew Grieve <agrieve@chromium.org>
Date: Thu, 20 Jan 2022 16:29:40 -0500
Subject: [PATCH 2/4] Disable line number optimization

---
 src/main/java/com/android/tools/r8/D8Command.java | 3 +++
 src/main/java/com/android/tools/r8/R8Command.java | 2 ++
 2 files changed, 5 insertions(+)

diff --git a/src/main/java/com/android/tools/r8/D8Command.java b/src/main/java/com/android/tools/r8/D8Command.java
index 203b1d6032..e12b0c7aeb 100644
--- a/src/main/java/com/android/tools/r8/D8Command.java
+++ b/src/main/java/com/android/tools/r8/D8Command.java
@@ -662,6 +662,9 @@ public final class D8Command extends BaseCompilerCommand {
     internal.setDumpInputFlags(getDumpInputFlags(), skipDump);
     internal.dumpOptions = dumpOptions();
 
+    // Added where it hopefully won't have merge conflicts.
+    internal.lineNumberOptimization = LineNumberOptimization.OFF;
+
     return internal;
   }
 
diff --git a/src/main/java/com/android/tools/r8/R8Command.java b/src/main/java/com/android/tools/r8/R8Command.java
index 309a475a42..7eb7ec0142 100644
--- a/src/main/java/com/android/tools/r8/R8Command.java
+++ b/src/main/java/com/android/tools/r8/R8Command.java
@@ -982,6 +982,8 @@ public final class R8Command extends BaseCompilerCommand {
     internal.mainDexKeptGraphConsumer = mainDexKeptGraphConsumer;
 
     internal.dataResourceConsumer = internal.programConsumer.getDataResourceConsumer();
+    // Added where it hopefully won't have merge conflicts.
+    internal.lineNumberOptimization = LineNumberOptimization.OFF;
 
     internal.featureSplitConfiguration = featureSplitConfiguration;
 
-- 
2.36.1.476.g0c4daa206d-goog

